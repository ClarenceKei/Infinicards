<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basket</title>
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
     <link rel="stylesheet" href="Infinicards.css">
     <head>
         <title>
           Infinicards
         </title>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <link rel="icon" type="image/x-icon" href="Infinicards Logo.png">
     
        <nav class="navbar">
            <div class="logo">
              <img src="Infinicards Logo.png" alt="Logo" />
            </div>
            <div class="hamburger" id="hamburger">
              <span class="bar"></span>
              <span class="bar"></span>
              <span class="bar"></span>
            </div>
            <ul class="nav-links" id="nav-links">
              <li ><a href="index.html" class="nav-item" >Home</a></li>
              <li><a href="about.html" class="nav-item">About</a></li>
              <li><a href="Contact Us.html" class="nav-item">Contact</a></li>
              <li><a href="bahsket.html" class="nav-item active">Basket</a></li>
              </ul>
        </nav>
    </head>
</head>
<body>

    <h1 class = "center">Your Basket</h1>
    <table class = "center">
        <thead>
            <tr>
                <th class="dreammask">Product⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀</th>
                <th class="dreammask">Price⠀</th>
                <th class="dreammask">Quantity⠀</th>
                <th class="dreammask">Total⠀</th>
                <th class="dreammask">Remove⠀</th>
            </tr>
    </table>
    <table class = "center">
    </thead>
    <tr><tbody id="cart-items"></tbody></tr>
    </table>
    
    <h2 class = "center">Total Price: £<span id="total-price">0.00</span></h2>
    <a class="center" onclick="clearCart()">
        <button type="button">Clear cart</button>
    </a>
    <a href="Home Dropshipping.html"></a>
    <a class="center" href="Checkout page.html">
        <button type="button">Checkout and pay now</button>
    </a>
    <a href="Home Dropshipping.html"></a>
    </br>
    <script>
        function loadCart() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let cartTable = document.getElementById("cart-items");
            let totalPrice = 0;
            cartTable.innerHTML = "";

            cart.forEach((item, index) => {
                let row = cartTable.insertRow();
                row.innerHTML = `
                    <td>${item.name}⠀</td>
                    <td>£${item.price.toFixed(2)}⠀</td>
                    <td>${item.quantity}⠀</td>
                    <td>£${(item.price * item.quantity).toFixed(2)}⠀</td>
                    <td><button onclick="removeItem(${index})">Remove</button>⠀</td>
                `;
                totalPrice += item.price * item.quantity;
            });

            document.getElementById("total-price").innerText = totalPrice.toFixed(2);
        }

        function removeItem(index) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            loadCart();
        }

        function clearCart() {
            localStorage.removeItem("cart");
            loadCart();
        }

        window.onload = loadCart;
    </script>

</body>
</html>
